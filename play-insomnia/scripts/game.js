!function t(e,i,s){function a(n,l){if(!i[n]){if(!e[n]){var r="function"==typeof require&&require;if(!l&&r)return r(n,!0);if(o)return o(n,!0);var h=new Error("Cannot find module '"+n+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[n]={exports:{}};e[n][0].call(u.exports,function(t){var i=e[n][1][t];return a(i?i:t)},u,u.exports,t,e,i,s)}return i[n].exports}for(var o="function"==typeof require&&require,n=0;n<s.length;n++)a(s[n]);return a}({1:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=t("objects/Rock"),l=s(n),r=t("objects/Orb"),h=s(r),u=t("objects/Fiend"),c=s(u),d=t("objects/FlyingFiend"),p=s(d),f=t("objects/Bitmap"),g=s(f),m=function(){function t(e){a(this,t),this.game=e}return o(t,[{key:"linearOrbGenerator",value:function(t,e,i,s,a,o){for(var n=s,l=e.length+i,r=e.length;r<l;r++)e.push(new h["default"](this.game,n,a,1,t)),n+=o;return e}},{key:"linearRockGenerator",value:function(t,e,i,s,a,o){for(var n=s,r=e.length+i,h=e.length;h<r;h++)e.push(new l["default"](this.game,n,a,1,t)),n+=o;return e}},{key:"linearFiendGenerator",value:function(t,e,i,s,a,o){for(var n=s,l=e.length+i,r=e.length;r<l;r++)e.push(new c["default"](this.game,n,a,1,t)),n+=o;return e}},{key:"linearFlyingFiendGenerator",value:function(t,e,i,s,a,o){for(var n=s,l=e.length+i,r=e.length;r<l;r++)e.push(new p["default"](this.game,n,a,1,t)),n+=o;return e}},{key:"bitmapPlatformGenerator",value:function(t,e,i,s,a){return a?(e.push(new g["default"](this.game,"Platform",i,30-s,800,40,(-30),t,(!0))),e.push(new g["default"](this.game,"Platform",i+350,0-s,40,400,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+790,0-s,40,400,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+570,230-s,500,40,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+570,400-s,500,40,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+1150,280-s,800,40,20,t,(!0))),e.push(new g["default"](this.game,"Platform",i+1450,0-s,40,150,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+1670,150-s,500,40,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+1890,0-s,40,150,0,t,(!0)))):(e.push(new g["default"](this.game,"Platform",i,0-s,40,150,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+220,150-s,500,40,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+440,0-s,40,150,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+740,280-s,800,40,(-20),t,(!0))),e.push(new g["default"](this.game,"Platform",i+1320,400-s,500,40,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+1320,230-s,500,40,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+1100,0-s,40,400,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+1540,0-s,40,400,0,t,(!0))),e.push(new g["default"](this.game,"Platform",i+1890,30-s,800,40,30,t,(!0)))),e}},{key:"api",value:function(t){$.ajax({type:"GET",url:"http://ante-baric.com/insomnia/api/",data:{s:t.status,p:t.progress},dataType:"html",success:function(t){console.log(t)},error:function(t,e){console.log("ajax error")}})}}]),t}();i["default"]=m,e.exports=i["default"]},{"objects/Bitmap":4,"objects/Fiend":8,"objects/FlyingFiend":9,"objects/Orb":12,"objects/Rock":18}],2:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=t("objects/Rock"),l=s(n),r=t("objects/Orb"),h=s(r),u=t("objects/Fiend"),c=s(u),d=t("objects/FlyingFiend"),p=s(d),f=t("objects/Trap"),g=s(f),m=t("objects/PuzzleObstacle"),y=s(m),b=t("objects/Bitmap"),v=s(b),w=t("objects/Material"),C=(s(w),t("includes/Helpers")),k=s(C),O=t("objects/Spikes"),j=s(O),P=t("objects/Pond"),x=s(P),S=t("objects/Checkpoint"),M=s(S),_=function(){function t(e){a(this,t),this.game=e,this.helpers=new k["default"](this.game),this.lvlId=this.game.lvlId}return o(t,[{key:"fetch",value:function(t){var e=new Array;switch(this.lvlId){case 1:e=this.lvl1Data(t);break;case 2:e=this.lvl2Data(t);break;case 3:e=this.lvl3Data(t);break;case 4:e=this.lvl4Data(t);break;case 5:e=this.lvl5Data(t);break;default:this.game.state.start("LevelSelect",!0,!1)}return e}},{key:"lvl1Data",value:function(t){this.game.fog=!0,this.game.lvlFillColor="#354a55",this.game.lvlIntroText="... Beware of the Shadows swallowed by Fog ...";var e=[new l["default"](this.game,2500,(-50),1,t.obstaclesCollision),new l["default"](this.game,2700,100,1,t.obstaclesCollision),new l["default"](this.game,5900,0,1,t.obstaclesCollision),new l["default"](this.game,6100,(-40),1,t.obstaclesCollision),new l["default"](this.game,6100,(-40),1,t.obstaclesCollision),new l["default"](this.game,6100,(-40),1,t.obstaclesCollision),new l["default"](this.game,8300,20,1,t.obstaclesCollision),new l["default"](this.game,8700,120,1,t.obstaclesCollision),new l["default"](this.game,9800,(-50),1,t.obstaclesCollision),new l["default"](this.game,1e4,(-70),1,t.obstaclesCollision),new M["default"](this.game,12300,0,1,t.interactionCollision),new l["default"](this.game,12800,0,1,t.obstaclesCollision),new h["default"](this.game,12800,320,1,t.interactionCollision),new j["default"](this.game,13200,0,1,t.obstaclesCollision),new l["default"](this.game,13600,0,1,t.obstaclesCollision),new h["default"](this.game,13600,320,1,t.interactionCollision),new j["default"](this.game,14e3,0,1,t.obstaclesCollision),new l["default"](this.game,14400,0,1,t.obstaclesCollision),new h["default"](this.game,14400,320,1,t.interactionCollision),new M["default"](this.game,15200,0,1,t.interactionCollision),new l["default"](this.game,15700,100,1,t.obstaclesCollision),new l["default"](this.game,16e3,450,1,t.obstaclesCollision),new l["default"](this.game,16e3,150,1,t.obstaclesCollision),new c["default"](this.game,16500,(-40),.8,t.fiendCollision),new l["default"](this.game,18e3,(-100),1,t.obstaclesCollision),new l["default"](this.game,18400,(-50),1,t.obstaclesCollision),new h["default"](this.game,18400,350,1,t.interactionCollision),new l["default"](this.game,18700,(-110),1,t.obstaclesCollision),new M["default"](this.game,2e4,0,1,t.interactionCollision),new l["default"](this.game,20500,100,1,t.obstaclesCollision),new l["default"](this.game,20700,220,1,t.obstaclesCollision),new p["default"](this.game,21300,100,.4,t.fiendCollision),new M["default"](this.game,23500,0,1,t.interactionCollision),new p["default"](this.game,25e3,100,.4,t.fiendCollision),new p["default"](this.game,26e3,200,.4,t.fiendCollision),new l["default"](this.game,26200,(-110),1,t.obstaclesCollision),new l["default"](this.game,26500,(-60),1,t.obstaclesCollision),new l["default"](this.game,26700,(-10),1,t.obstaclesCollision),new l["default"](this.game,27e3,50,1,t.obstaclesCollision),new l["default"](this.game,27300,110,1,t.obstaclesCollision),new l["default"](this.game,27600,100,1,t.obstaclesCollision),new l["default"](this.game,27600,250,1,t.obstaclesCollision),new l["default"](this.game,28e3,110,1,t.obstaclesCollision),new l["default"](this.game,28e3,350,1,t.obstaclesCollision),new h["default"](this.game,28500,800,1,t.interactionCollision),new l["default"](this.game,29900,20,1,t.interactionCollision),new M["default"](this.game,32e3,0,1,t.interactionCollision),new l["default"](this.game,32500,20,1,t.interactionCollision),new l["default"](this.game,32800,90,1,t.interactionCollision),new p["default"](this.game,33200,150,.7,t.fiendCollision),new M["default"](this.game,34700,0,1,t.interactionCollision,"Hold <A> and Move"),new g["default"](this.game,34700,0,1,t.interactionCollision),new c["default"](this.game,37e3,(-50),.8,t.fiendCollision),new M["default"](this.game,38e3,0,1,t.interactionCollision)];return e=this.helpers.linearOrbGenerator(t.interactionCollision,e,4,960,70,360),e=this.helpers.linearOrbGenerator(t.interactionCollision,e,3,3160,70,360),e=this.helpers.linearOrbGenerator(t.interactionCollision,e,4,6560,70,360),e=this.helpers.linearOrbGenerator(t.interactionCollision,e,6,10300,70,360),e=this.helpers.linearOrbGenerator(t.interactionCollision,e,10,21400,70,360),e=this.helpers.linearRockGenerator(t.obstaclesCollision,e,4,28e3,70,360),e.push(new M["default"](this.game,38e3,0,1,t.interactionCollision)),e}},{key:"lvl2Data",value:function(t){this.game.fog=!0,this.game.lvlFillColor="#355455",this.game.lvlIntroText="... A danger that lurks below ...";var e=[new l["default"](this.game,3200,100,1,t.obstaclesCollision),new M["default"](this.game,7760,0,1,t.interactionCollision),new v["default"](this.game,"Platform",8e3,0,40,150,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",8220,150,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",8440,0,40,150,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",8740,280,800,40,(-20),t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",9320,400,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",9320,230,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",9100,0,40,400,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",9540,0,40,400,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",9950,400,800,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",10580,400,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",10580,230,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",10360,0,40,400,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",10800,0,40,400,0,t.obstaclesCollision,(!0)),new j["default"](this.game,11020,0,1,t.obstaclesCollision),new h["default"](this.game,11020,700,1,t.interactionCollision),new v["default"](this.game,"Platform",11460,400,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",11460,230,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",11240,0,40,400,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",11680,0,40,400,0,t.obstaclesCollision,(!0)),new j["default"](this.game,11900,0,1,t.obstaclesCollision),new h["default"](this.game,11900,700,1,t.interactionCollision),new v["default"](this.game,"Platform",12340,400,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",12340,230,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",12120,0,40,400,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",12560,0,40,400,0,t.obstaclesCollision,(!0)),new M["default"](this.game,13400,0,1,t.interactionCollision),new x["default"](this.game,14e3,0,1,t.interactionCollision),new j["default"](this.game,14300,0,1,t.obstaclesCollision),new j["default"](this.game,14690,0,1,t.obstaclesCollision),new j["default"](this.game,15080,0,1,t.obstaclesCollision),new l["default"](this.game,15470,100,1,t.obstaclesCollision),new l["default"](this.game,15670,220,1,t.obstaclesCollision),new l["default"](this.game,16e3,100,1,t.obstaclesCollision),new l["default"](this.game,16200,220,1,t.obstaclesCollision),new l["default"](this.game,16300,160,1,t.obstaclesCollision),new l["default"](this.game,16400,100,1,t.obstaclesCollision),new j["default"](this.game,16700,0,1,t.obstaclesCollision),new j["default"](this.game,17090,0,1,t.obstaclesCollision),new x["default"](this.game,17200,0,1,t.interactionCollision),new j["default"](this.game,17480,0,1,t.obstaclesCollision),new j["default"](this.game,17870,0,1,t.obstaclesCollision),new j["default"](this.game,18260,0,1,t.obstaclesCollision),new j["default"](this.game,18650,0,1,t.obstaclesCollision),new l["default"](this.game,18890,100,1,t.obstaclesCollision),new l["default"](this.game,19240,160,1,t.obstaclesCollision),new l["default"](this.game,19340,220,1,t.obstaclesCollision),new l["default"](this.game,19440,100,1,t.obstaclesCollision),new M["default"](this.game,22800,0,1,t.interactionCollision),new M["default"](this.game,28500,0,1,t.interactionCollision),new x["default"](this.game,29300,0,1,t.interactionCollision),new j["default"](this.game,29600,0,1,t.obstaclesCollision),new j["default"](this.game,29990,0,1,t.obstaclesCollision),new j["default"](this.game,30380,0,1,t.obstaclesCollision),new p["default"](this.game,30190,200,.4,t.fiendCollision),new j["default"](this.game,30770,0,1,t.obstaclesCollision),new v["default"](this.game,"Platform",30770,0,40,150,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",30990,150,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",31210,0,40,150,0,t.obstaclesCollision,(!0)),new x["default"](this.game,31430,0,1,t.interactionCollision),new j["default"](this.game,31730,0,1,t.obstaclesCollision),new j["default"](this.game,32120,0,1,t.obstaclesCollision),new j["default"](this.game,32510,0,1,t.obstaclesCollision),new M["default"](this.game,33500,0,1,t.interactionCollision),new l["default"](this.game,34e3,100,1,t.obstaclesCollision),new l["default"](this.game,34200,220,1,t.obstaclesCollision),new h["default"](this.game,34200,520,1,t.interactionCollision),new l["default"](this.game,34300,160,1,t.obstaclesCollision),new l["default"](this.game,34400,100,1,t.obstaclesCollision)];return e=this.helpers.linearOrbGenerator(t.interactionCollision,e,6,1e3,70,360),e=this.helpers.bitmapPlatformGenerator(t.obstaclesCollision,e,4060,0,!1),e=this.helpers.linearOrbGenerator(t.interactionCollision,e,7,19900,70,360),e=this.helpers.bitmapPlatformGenerator(t.obstaclesCollision,e,23e3,0,!1),e=this.helpers.bitmapPlatformGenerator(t.obstaclesCollision,e,26e3,0,!0),e.push(new M["default"](this.game,35400,0,1,t.interactionCollision)),e}},{key:"lvl3Data",value:function(t){this.game.fog=!0,this.game.lvlFillColor="#366077",this.game.lvlIntroText="... Darkness grasps The Middle of the Night ...";var e=[new l["default"](this.game,1e3,100,1,t.obstaclesCollision),new l["default"](this.game,1200,160,1,t.obstaclesCollision),new l["default"](this.game,1300,220,1,t.obstaclesCollision),new l["default"](this.game,1800,100,1,t.obstaclesCollision),new M["default"](this.game,2100,0,1,t.interactionCollision,"Hold <A> to Move blocks"),new y["default"](this.game,3e3,(-400),1,t.puzzleCollision),new y["default"](this.game,3500,(-200),1,t.puzzleCollision),new y["default"](this.game,4e3,(-300),1,t.puzzleCollision),new l["default"](this.game,5e3,500,1,t.obstaclesCollision),new l["default"](this.game,5e3,250,1,t.obstaclesCollision),new l["default"](this.game,5e3,100,1,t.obstaclesCollision),new c["default"](this.game,5500,(-30),.8,t.fiendCollision),new M["default"](this.game,6500,0,1,t.interactionCollision),new l["default"](this.game,7e3,100,1,t.obstaclesCollision),new l["default"](this.game,7200,220,1,t.obstaclesCollision),new h["default"](this.game,7200,520,1,t.interactionCollision),new l["default"](this.game,7300,160,1,t.obstaclesCollision),new l["default"](this.game,7400,100,1,t.obstaclesCollision),new v["default"](this.game,"Platform",7700,270,1e3,40,(-10),t.obstaclesCollision,(!0)),new M["default"](this.game,1e4,0,1,t.interactionCollision),new x["default"](this.game,10300,0,1,t.interactionCollision),new v["default"](this.game,"Platform",10800,0,40,500,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",11020,500,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",11240,0,40,500,0,t.obstaclesCollision,(!0)),new g["default"](this.game,11020,700,1,t.interactionCollision),new c["default"](this.game,12020,(-40),1,t.fiendCollision),new p["default"](this.game,12520,300,.5,t.fiendCollision),new M["default"](this.game,13e3,0,1,t.interactionCollision),new l["default"](this.game,13500,100,1,t.obstaclesCollision),new l["default"](this.game,13700,220,1,t.obstaclesCollision),new h["default"](this.game,13700,520,1,t.interactionCollision),new l["default"](this.game,14800,160,1,t.obstaclesCollision),new l["default"](this.game,14900,100,1,t.obstaclesCollision),new v["default"](this.game,"Platform",14200,300,1e3,40,10,t.obstaclesCollision,(!0)),new c["default"](this.game,14100,(-70),.6,t.fiendCollision),new c["default"](this.game,14300,(-70),.6,t.fiendCollision),new l["default"](this.game,15700,100,1,t.obstaclesCollision),new l["default"](this.game,15900,220,1,t.obstaclesCollision),new h["default"](this.game,15900,520,1,t.interactionCollision),new l["default"](this.game,16e3,160,1,t.obstaclesCollision),new l["default"](this.game,16100,100,1,t.obstaclesCollision)];return e=this.helpers.bitmapPlatformGenerator(t.obstaclesCollision,e,7850,0,!0),e.push(new M["default"](this.game,17100,0,1,t.interactionCollision)),e}},{key:"lvl4Data",value:function(t){this.game.fog=!0,this.game.lvlFillColor="#366077",this.game.lvlIntroText="... Fog still holds her Strings ...";var e=[new v["default"](this.game,"Platform",470,0,40,80,5,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",900,20,1e3,40,5,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",2500,20,1e3,40,(-5),t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",2930,0,40,80,(-5),t.obstaclesCollision,(!0)),new M["default"](this.game,3500,0,1,t.interactionCollision),new v["default"](this.game,"Platform",4470,20,1e3,40,(-5),t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",4900,0,40,80,(-5),t.obstaclesCollision,(!0)),new h["default"](this.game,5100,420,1,t.interactionCollision),new j["default"](this.game,5100,(-60),1,t.obstaclesCollision),new v["default"](this.game,"Platform",5300,0,40,80,5,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",5730,20,1e3,40,5,t.obstaclesCollision,(!0)),new M["default"](this.game,3500,0,1,t.interactionCollision),new M["default"](this.game,8e3,0,1,t.interactionCollision,"Hold <A> to Move blocks"),new y["default"](this.game,9e3,(-200),1,t.puzzleCollision),new y["default"](this.game,8600,(-300),1,t.puzzleCollision),new v["default"](this.game,"Platform",9600,0,40,500,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",9820,500,500,40,0,t.obstaclesCollision,(!0)),new v["default"](this.game,"Platform",10040,0,40,500,0,t.obstaclesCollision,(!0)),new h["default"](this.game,9830,620,1,t.interactionCollision),new M["default"](this.game,10200,0,1,t.interactionCollision),new p["default"](this.game,11200,200,.4,t.fiendCollision),new M["default"](this.game,12e3,0,1,t.interactionCollision,"Hold <A> to Move blocks"),new y["default"](this.game,12700,(-400),1,t.puzzleCollision),new y["default"](this.game,12300,(-200),1,t.puzzleCollision),new j["default"](this.game,14e3,0,1,t.obstaclesCollision),new j["default"](this.game,14150,0,1,t.obstaclesCollision),new p["default"](this.game,14e3,300,.5,t.fiendCollision)];return e=this.helpers.linearOrbGenerator(t.interactionCollision,e,10,500,90,360),e=this.helpers.linearOrbGenerator(t.interactionCollision,e,3,5300,90,360),e=this.helpers.bitmapPlatformGenerator(t.obstaclesCollision,e,6200,0,!1),e=this.helpers.linearOrbGenerator(t.interactionCollision,e,5,11e3,90,360),e.push(new M["default"](this.game,15500,0,1,t.interactionCollision)),e}},{key:"lvl5Data",value:function(t){this.game.day=!0,this.game.fog=!0,this.game.lvlFillColor="#6a95ad",this.game.lvlIntroText="... New Dawn ...";var e=[new M["default"](this.game,4e3,0,1,t.interactionCollision),new p["default"](this.game,5e3,300,.6,t.fiendCollision),new M["default"](this.game,10200,0,1,t.interactionCollision),new x["default"](this.game,10700,0,1,t.interactionCollision),new c["default"](this.game,11100,(-50),.7,t.fiendCollision),new c["default"](this.game,11400,(-50),.7,t.fiendCollision),new c["default"](this.game,11700,(-50),.7,t.fiendCollision),new j["default"](this.game,12100,0,1,t.obstaclesCollision),new x["default"](this.game,12150,0,1,t.interactionCollision),new j["default"](this.game,12200,0,1,t.obstaclesCollision),new c["default"](this.game,12600,(-50),.7,t.fiendCollision),new c["default"](this.game,12900,(-50),.7,t.fiendCollision),new c["default"](this.game,13200,(-50),.7,t.fiendCollision),new j["default"](this.game,13600,0,1,t.obstaclesCollision),new x["default"](this.game,13650,0,1,t.interactionCollision),new j["default"](this.game,13700,0,1,t.obstaclesCollision),new c["default"](this.game,14e3,(-50),.7,t.fiendCollision),new c["default"](this.game,14300,(-50),.7,t.fiendCollision),new c["default"](this.game,14600,(-50),.7,t.fiendCollision),new j["default"](this.game,14950,0,1,t.obstaclesCollision),new x["default"](this.game,14950,0,1,t.interactionCollision),new M["default"](this.game,16e3,0,1,t.interactionCollision)];return e=this.helpers.linearOrbGenerator(t.interactionCollision,e,10,500,90,360),e=this.helpers.linearOrbGenerator(t.interactionCollision,e,3,5300,90,360),e=this.helpers.bitmapPlatformGenerator(t.obstaclesCollision,e,6200,0,!1),e=this.helpers.linearOrbGenerator(t.interactionCollision,e,5,8700,90,360),e=this.helpers.linearOrbGenerator(t.interactionCollision,e,5,16e3,90,360),e.push(new M["default"](this.game,17777,0,1,t.interactionCollision)),e}}]),t}();i["default"]=_,e.exports=i["default"]},{"includes/Helpers":1,"objects/Bitmap":4,"objects/Checkpoint":5,"objects/Fiend":8,"objects/FlyingFiend":9,"objects/Material":10,"objects/Orb":12,"objects/Pond":16,"objects/PuzzleObstacle":17,"objects/Rock":18,"objects/Spikes":19,"objects/Trap":21}],3:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},l=t("states/Boot"),r=s(l),h=t("states/Preload"),u=s(h),c=t("states/Menu"),d=s(c),p=t("states/LevelSelect"),f=s(p),g=t("states/Controls"),m=s(g),y=t("states/Stats"),b=s(y),v=t("states/Credits"),w=s(v),C=t("states/Test"),k=s(C),O=t("states/Main"),j=s(O),P=t("states/GameOver"),x=s(P),S=function(t){function e(){a(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,1920,1080,Phaser.CANVAS),this.state.add("Boot",r["default"],!1),this.state.add("Preload",u["default"],!1),this.state.add("Menu",d["default"],!1),this.state.add("LevelSelect",f["default"],!1),this.state.add("Controls",m["default"],!1),this.state.add("Stats",b["default"],!1),this.state.add("Credits",w["default"],!1),this.state.add("Test",k["default"],!1),this.state.add("Main",j["default"],!1),this.state.add("GameOver",x["default"],!1),this.state.start("Boot")}return o(e,t),e}(Phaser.Game);new S},{"states/Boot":23,"states/Controls":24,"states/Credits":25,"states/GameOver":26,"states/LevelSelect":27,"states/Main":28,"states/Menu":29,"states/Preload":30,"states/Stats":31,"states/Test":32}],4:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/Sprite"),h=s(r),u=t("objects/Material"),c=s(u),d=function(t){function e(t,i,s,o,n,r,h,u,c){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,s,o,n,r,h,u,c),this.game=t,this.oType=i,this.x=s,this.y=this.game.height-o,this.width=n,this.height=r,this.angle=h,this.visible=!1,this.kinematic=c,this.collisionGroup=u}return o(e,t),n(e,[{key:"render",value:function(){var t=this.game.add.bitmapData(this.width,this.height);t.ctx.rect(0,0,this.width,this.height),t.ctx.fillStyle="#111111",t.ctx.fill(),this.sprite=this.game.add.sprite(this.x,this.y,t),this.sprite.position.y-=this.sprite.height/2,this.game.physics.p2.enable(this.sprite,this.game.debugMode),this.setAngle(this.angle),this.sprite.oType=this.oType,this.kinematic&&(this.sprite.body.kinematic=!0),this.sprite.body.collideWorldBounds=!0,this.sprite.body.setCollisionGroup(this.collisionGroup),this.visible=!0,this.material=new c["default"](this.game,this.oType,this.sprite.body)}},{key:"update",value:function(t){this.sprite.body.velocity.x=0,this.sprite.body.velocity.x=t.getSpeed(),this.kinematic||(this.inView()?this.sprite.body.dynamic=!0:this.sprite.body.kinematic=!0)}},{key:"setAngle",value:function(t){this.sprite.body.angle=t}}]),e}(h["default"]);i["default"]=d,e.exports=i["default"]},{"objects/Material":10,"objects/Sprite":20}],5:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/Sprite"),h=s(r),u=t("objects/Material"),c=s(u),d=t("objects/MenuButton"),p=s(d),f=function(t){function e(t,i,s,o,n,r){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,s,o,n),this.game=t,this.oType="Checkpoint",this.x=i,this.y=this.game.height-s,this.scale=o,this.visible=!1,this.collisionGroup=n,"undefined"==typeof r?this.hint=!1:this.hint=r}return o(e,t),n(e,[{key:"render",value:function(){var t=this.game.add.bitmapData(10,this.game.height);this.sprite=this.game.add.sprite(this.x,this.y,t),this.sprite.position.y-=this.sprite.height/2,this.setScale(this.scale),this.game.physics.p2.enable(this.sprite,this.game.debugMode),this.sprite.oType=this.oType,this.sprite.body.kinematic=!0,this.sprite.body.collideWorldBounds=!0,this.sprite.body.setCollisionGroup(this.collisionGroup),this.sprite.showHint=!1,this.hint&&(this.hintDisplay=new p["default"](this.game,0,this.y-300,this.hint,null,{font:"Arial",fontWeight:"normal",fontSize:28,fill:"#FFFFFF",align:"center"}),this.hintDisplay.text.anchor.set(.5),this.hintDisplay.text.visible=!1),this.material=new c["default"](this.game,this.oType,this.sprite.body)}},{key:"update",value:function(t){this.sprite.showHint&&this.hint&&(this.sprite.showHint=!1,this.hintDisplay.text.x=t.player.x,this.hintDisplay.text.visible=!0,this.game.time.events.add(5*Phaser.Timer.SECOND,this.removeHint,this)),this.sprite.body.velocity.x=0,this.sprite.body.velocity.x=t.getSpeed()}},{key:"removeHint",value:function(){this.hintDisplay.text.visible=!1}}]),e}(h["default"]);i["default"]=f,e.exports=i["default"]},{"objects/Material":10,"objects/MenuButton":11,"objects/Sprite":20}],6:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),o=function(){function t(e,i){s(this,t),this.game=e,this.dayLength=i,this.shading=!1,this.sunSprite=!1,this.moonSprite=!1}return a(t,[{key:"initSun",value:function(t){this.sunSprite=t,this.sunSprite.visible=!0}},{key:"initMoon",value:function(t){this.moonSprite=t,this.moonSprite.visible=!0}},{key:"initShading",value:function(t){this.shading=t}},{key:"sunrise",value:function(t){var e=this;t.position.x=this.game.width-this.game.width/4,this.sunTween=this.game.add.tween(t).to({y:-250},this.dayLength,null,!0),this.sunTween.onComplete.add(this.sunset,this),this.shading&&this.shading.forEach(function(t){e.tweenTint(t.sprite,t.from,t.to,e.dayLength)})}},{key:"sunset",value:function(t){var e=this;t.position.x=50,this.sunTween=this.game.add.tween(t).to({y:this.game.world.height},this.dayLength,null,!0),this.sunTween.onComplete.add(this.sunrise,this),this.shading&&this.shading.forEach(function(t){e.tweenTint(t.sprite,t.to,t.from,e.dayLength)})}},{key:"moonrise",value:function(t){t.position.x=this.game.width-this.game.width/4,this.moonTween=this.game.add.tween(t).to({y:-350},this.dayLength,null,!0),this.moonTween.onComplete.add(this.moonset,this)}},{key:"moonset",value:function(t){t.position.x=50,this.moonTween=this.game.add.tween(t).to({y:this.game.world.height},this.dayLength,null,!0),this.moonTween.onComplete.add(this.moonrise,this)}},{key:"tweenTint",value:function(t,e,i,s){var a={step:0};this.game.add.tween(a).to({step:100},s,Phaser.Easing.Default,!1).onUpdateCallback(function(){t.tint=Phaser.Color.interpolateColor(e,i,100,a.step,1)}).start()}}]),t}();i["default"]=o,e.exports=i["default"]},{}],7:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),o=function(){function t(e,i,a){s(this,t),this.game=e,this.player=this.game.add.sprite(i,a,"girl-dummy-sprite"),this.game.physics.p2.enable(this.player,debugMode),this.player.body.collideWorldBounds=!0,this.spawned=!1}return a(t,[{key:"update",value:function(t,e,i){}},{key:"setCollisionGroup",value:function(t){this.player.body.setCollisionGroup(t)}},{key:"collides",value:function(t){this.player.body.collides(t)}}]),t}();i["default"]=o,e.exports=i["default"]},{}],8:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/Sprite"),h=s(r),u=t("objects/Material"),c=s(u),d=function(t){function e(t,i,s,o,n){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,s,o,n),this.game=t,this.oType="Fiend",this.x=i,this.y=this.game.height-s,this.scale=o,this.visible=!1,this.collisionGroup=n,this.sounds=new Object}return o(e,t),n(e,[{key:"render",value:function(){this.sprite=this.game.add.sprite(this.x,this.y,"shadow-hand"),this.sprite.position.y-=this.sprite.height/2,this.setScale(this.scale),this.isForceHit=!1,this.sprite.playerHit=!1,this.sprite.trapHit=!1,this.sprite.animations.add("idle",Phaser.Animation.generateFrameNames("shadow-hand-idle",1,9),6,!0),this.sprite.animations.add("high-lurk",Phaser.Animation.generateFrameNames("shadow-hand-high-atk",1,1),1,!0),this.sprite.animations.add("high-atk",Phaser.Animation.generateFrameNames("shadow-hand-high-atk",1,3),10,!0),this.sprite.animations.add("low-lurk",Phaser.Animation.generateFrameNames("shadow-hand-low-atk",1,1),1,!0),this.sprite.animations.add("low-atk",Phaser.Animation.generateFrameNames("shadow-hand-low-atk",1,2),10,!0),this.game.physics.p2.enable(this.sprite,this.game.debugMode),this.sprite.oType=this.oType,this.sprite.body.clearShapes(),this.sprite.body.setCircle(160*this.scale),this.sprite.body.kinematic=!0,this.sprite.body.collideWorldBounds=!0,this.sprite.body.setCollisionGroup(this.collisionGroup),this.sprite.position.y=0,this.visible=!0,this.material=new c["default"](this.game,"fiend",this.sprite.body),this.material.properties.relaxation=1e4,this.material.properties.friction=1e3,this.material.properties.restitution=0,this.material.properties.stiffness=1e4,this.sprite.body.onBeginContact.add(this.forceHit,this),this.sounds.hit=this.game.add.audio("fiend-hit",.3,!1)}},{key:"update",value:function(t){this.player=t.player,this.sprite.body.velocity.x=0,this.sprite.body.velocity.x=t.getSpeed(),this.sprite.playerHit||this.sprite.trapHit?this.sprite.trapHit?(this.sprite.animations.stop(),this.sprite.animations.frameName="shadow-hand-low-atk2",this.sprite.body.clearShapes(),this.kill(!0)):this.forceHit():t.player.jumping?this.sprite.animations.play("high-lurk"):t.player.position.x+600>this.sprite.position.x?this.sprite.animations.play("low-lurk"):this.sprite.animations.play("idle")}},{key:"hitPlayer",value:function(t,e){return!0}},{key:"forceHit",value:function(){this.isForceHit||(this.sounds.hit.play(),this.isForceHit=!0,this.player.jumping?(this.sprite.animations.play("high-atk"),this.sprite.animations.stop(),this.sprite.animations.frameName="shadow-hand-high-atk3"):(this.sprite.animations.play("low-atk"),this.sprite.animations.stop(),this.sprite.animations.frameName="shadow-hand-low-atk2"),this.game.time.events.add(Phaser.Timer.SECOND,this.resetForceHit,this))}},{key:"resetForceHit",value:function(){this.sprite.playerHit=!1,this.isForceHit=!1}}]),e}(h["default"]);i["default"]=d,e.exports=i["default"]},{"objects/Material":10,"objects/Sprite":20}],9:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/Fiend"),h=s(r),u=t("objects/Material"),c=s(u),d=function(t){function e(t,i,s,o,n){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,s,o,n),this.game=t,this.oType="FlyingFiend",this.x=i,this.y=s,this.scale=o,this.visible=!1,this.collisionGroup=n,this.sounds=new Object}return o(e,t),n(e,[{key:"render",value:function(){this.sprite=this.game.add.sprite(this.x,this.y,"flying-shadow"),this.setScale(this.scale),this.isForceHit=!1,this.sprite.wasted=!1,this.tween=null,this.attackDirection=null,this.speed=570,this.attacking=!1,this.sprite.playerHit=!1,this.sprite.animations.add("idle",Phaser.Animation.generateFrameNames("flying-shadow-idle",1,3),9,!0),this.sprite.animations.add("left-atk",Phaser.Animation.generateFrameNames("flying-shadow-left-atk",1,1),11,!0),this.sprite.animations.add("right-atk",Phaser.Animation.generateFrameNames("flying-shadow-right-atk",1,1),11,!0),this.game.physics.p2.enable(this.sprite,this.game.debugMode),this.sprite.oType=this.oType,this.sprite.body.clearShapes(),this.sprite.body.setCircle(100*this.scale),this.sprite.body.kinematic=!0,this.sprite.body.collideWorldBounds=!0,this.sprite.body.setCollisionGroup(this.collisionGroup),this.sprite.position.y=0,this.sprite.position.y-=this.sprite.height/2,this.visible=!0,this.material=new c["default"](this.game,"flying-fiend",this.sprite.body),this.material.properties.relaxation=1e4,this.material.properties.friction=1e3,this.material.properties.restitution=0,this.material.properties.stiffness=1e4,this.sprite.body.onBeginContact.add(this.forceHit,this),this.sounds.idle=this.game.add.audio("flying-shadow-idle",.6,!1),this.sounds.hit=this.game.add.audio("fiend-hit",.3,!1),this.levitationMove=50,this.moveUp()}},{key:"update",value:function(t){this.isOut()&&(this.sounds.idle.stop(),this.kill(!0)),this.player=t.player,this.attacking||(this.sprite.body.velocity.x=0),t.getSpeed()>0?this.sprite.body.velocity.x=t.getSpeed():t.getSpeed()<0&&(this.sprite.body.velocity.x=t.getSpeed()),this.sprite.playerHit&&(this.sounds.hit.play(),this.sprite.playerHit=!1,this.kill(!0)),this.isFlyUp()?(this.sprite.body.velocity.y=0,this.sounds.idle.stop(),"left"==this.attackDirection?this.sprite.body.moveLeft(2.5*this.speed):this.sprite.body.moveRight(2.5*this.speed)):t.player.position.x<this.sprite.position.x&&this.sprite.position.x-t.player.position.x<500?this.attacking||(this.sounds.idle.stop(),this.sprite.animations.play("left-atk"),this.attackDirection="left",this.attacking=!0,this.sprite.body.velocity.y=0,this.sprite.body.moveLeft(this.speed),this.sprite.body.moveDown(this.speed)):t.player.position.x>this.sprite.position.x?this.attacking||(this.sounds.idle.stop(),this.sprite.animations.play("right-atk"),this.attackDirection="right",this.attacking=!0,this.sprite.body.velocity.y=0,this.sprite.body.moveLeft(this.speed),this.sprite.body.moveDown(this.speed)):this.sprite.animations.play("idle")}},{key:"moveUp",value:function(){this.attacking||(this.inView()&&this.sounds.idle.play(),this.sprite.body.moveUp(this.levitationMove)),this.game.time.events.add(Phaser.Timer.SECOND,this.moveDown,this)}},{key:"moveDown",value:function(){this.attacking||(this.inView()&&this.sounds.idle.play(),this.sprite.body.moveDown(this.levitationMove)),this.game.time.events.add(Phaser.Timer.SECOND,this.moveUp,this)}},{key:"isFlyUp",value:function(){return this.sprite.position.y-this.game.height>-this.sprite.height}}]),e}(h["default"]);i["default"]=d,e.exports=i["default"]},{"objects/Fiend":8,"objects/Material":10}],10:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),o=function(){function t(e,i,a){s(this,t),this.game=e,this.body=a,this.properties=this.game.physics.p2.createMaterial(i,this.body)}return a(t,[{key:"setProperties",value:function(t){switch(this.contactMaterial=this.game.physics.p2.createContactMaterial(this.properties,t),this.body.angularDamping=1,this.name){case"rock":this.contactMaterial.friction=1e3,this.contactMaterial.restitution=0,this.contactMaterial.stiffness=1e4,this.contactMaterial.relaxation=1e4,this.contactMaterial.frictionStiffness=1e7,this.contactMaterial.frictionRelaxation=3,this.contactMaterial.surfaceVelocity=0;break;case"ground-trap":this.contactMaterial.friction=1e3,this.contactMaterial.restitution=0,this.contactMaterial.stiffness=1e4,this.contactMaterial.relaxation=1e4,this.contactMaterial.frictionStiffness=1e7,this.contactMaterial.frictionRelaxation=3,this.contactMaterial.surfaceVelocity=-1;break;case"puzzle-obstacle":this.contactMaterial.friction=0,this.contactMaterial.restitution=0,this.contactMaterial.stiffness=1e4,this.contactMaterial.relaxation=1e4,this.contactMaterial.frictionStiffness=0,this.contactMaterial.frictionRelaxation=3,this.contactMaterial.surfaceVelocity=-1;break;case"spikes":this.contactMaterial.friction=1e3,this.contactMaterial.restitution=0,this.contactMaterial.stiffness=1e4,this.contactMaterial.relaxation=1e4,this.contactMaterial.frictionStiffness=1e7,this.contactMaterial.frictionRelaxation=3,this.contactMaterial.surfaceVelocity=0}}}]),t}();i["default"]=o,e.exports=i["default"]},{}],11:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),o=function(){function t(e,i,a,o,n,l){s(this,t),"undefined"==typeof l&&(l={font:"IM Fell DW Pica",fontWeight:"normal",fontSize:48,fill:"#FFFFFF",align:"center"}),this.game=e,this.text=this.game.add.text(i,a,o,l),this.text.anchor.setTo(.5),this.text.inputEnabled=!0,null!=n&&(this.text.input.useHandCursor=!0,this.text.events.onInputDown.add(n,this),this.text.events.onInputOver.add(this.mouseOver,this),this.text.events.onInputOut.add(this.mouseOut,this)),this.position=this.text.position,this.width=this.text.width,this.height=this.text.height}return a(t,[{key:"mouseOver",value:function(t){t.fontWeight="bold"}},{key:"mouseOut",value:function(t){t.fontWeight="normal"}},{key:"disable",value:function(){this.text.inputEnabled=!1,this.text.alpha=.4}}]),t}();i["default"]=o,e.exports=i["default"]},{}],12:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/Sprite"),h=s(r),u=t("objects/Material"),c=s(u),d=function(t){function e(t,i,s,o,n){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,s,o,n),this.game=t,this.oType="Orb",this.x=i,this.y=this.game.height-s,this.scale=o,this.visible=!1,this.collisionGroup=n,this.sounds=new Object}return o(e,t),n(e,[{key:"render",value:function(){this.sprite=this.game.add.sprite(this.x,this.y,"orb"),this.sprite.position.y-=this.sprite.height/2,this.setScale(this.scale),this.game.physics.p2.enable(this.sprite,this.game.debugMode),this.sprite.oType=this.oType,this.sprite.collect=!1,this.collected=!1,this.sprite.body.clearShapes(),this.sprite.body.setCircle(20),this.sprite.body.kinematic=!0,this.sprite.body.collideWorldBounds=!0,this.sprite.body.setCollisionGroup(this.collisionGroup),this.visible=!0,this.material=new c["default"](this.game,"orb",this.sprite.body),this.levitationMove=10,this.moveUp(),this.sounds.collect=this.game.add.audio("orb-collect",.15,!1)}},{key:"update",value:function(t){this.sprite.angle+=1,this.sprite.body.velocity.x=0,this.player=t,this.sprite.body.velocity.x=t.getSpeed(),this.sprite.collect&&!this.collected&&(this.sprite.body.clearShapes(),this.kill(),this.updateOrbs())}},{key:"isOut",value:function(){return!!(this.sprite.position.x+this.sprite.width/2<=0||this.collected)}},{key:"updateOrbs",value:function(){this.sounds.collect.play(),this.collected=!0,this.game.orbCount++,this.player.heal()}},{key:"moveUp",value:function(){null!=this.sprite.body&&(this.sprite.body.moveUp(this.levitationMove),this.game.time.events.add(.5*Phaser.Timer.SECOND,this.moveDown,this))}},{key:"moveDown",value:function(){null!=this.sprite.body&&(this.sprite.body.moveDown(this.levitationMove),this.game.time.events.add(.5*Phaser.Timer.SECOND,this.moveUp,this))}}]),e}(h["default"]);i["default"]=d,e.exports=i["default"]},{"objects/Material":10,"objects/Sprite":20}],13:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),o=function(){function t(e,i,a,o,n){s(this,t),this.game=e,this.width=i,this.height=a,this.color=o,this.speed=n,this.spawned=!1,this.isLifespanReached=!1,this.particle=null,this.particleBitmap=this.game.add.bitmapData(this.width,this.height),this.particleBitmap.ctx.rect(0,0,this.width,this.height),this.particleBitmap.ctx.fillStyle=this.color,this.particleBitmap.ctx.fill()}return a(t,[{key:"update",value:function(t){this.particle.body.velocity.x=t.getSpeed(),this.isLifespanReached?this.particle.position.y<this.game.height?this.particle.body.velocity.y=-this.speed:(this.isLifespanReached=!1,this.game.time.events.add(this.lifespan,this.kill,this),this.velocity=this.game.rnd.between(0,this.speed)):this.particle.body.velocity.y=this.velocity,this.particle.body.setZeroRotation()}},{key:"spawn",value:function(t,e,i){this.lifespan=i,this.particle=this.game.add.sprite(0,0,this.particleBitmap),this.particle.position.x=t,this.particle.position.y=e,this.game.physics.p2.enable(this.particle,!1),this.particle.body.kinematic=!0,this.particle.oType="Particle",this.particle.body.collideWorldBounds=!0,this.animate(),this.game.time.events.add(this.lifespan,this.kill,this),this.spawned=!0}},{key:"animate",value:function(){this.velocity=this.game.rnd.between(0,this.speed)}},{key:"kill",value:function(){this.isLifespanReached=!0}}]),t}();i["default"]=o,e.exports=i["default"]},{}],14:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=t("objects/Particle"),l=s(n),r=function(){function t(e,i,s,o,n,l,r,h,u){a(this,t),this.game=e,this.sprite=i,this.x=this.sprite.x,this.y=this.sprite.y,this.particleQuantity=r,this.particleLifespan=l,this.frequency=n,this.pause=!0,this.width=s,this.height=o,this.direction=h,this.particle={width:0,height:0,color:"#ffffff",speed:0},"x"==u||"y"==u&&(this.xMargin={min:this.x-this.width/2,max:this.x-this.width/2+this.width},this.yMargin=this.y,this.moveMargin={min:this.y+10,max:this.y+this.height}),this.particles=new Array(this.particleQuantity)}return o(t,[{key:"createParticles",value:function(t){"undefined"!=typeof t&&(this.particle=t);for(var e=0;e<this.particleQuantity;e++)this.particles[e]=new l["default"](this.game,this.particle.width,this.particle.height,this.particle.color,this.particle.speed*this.direction)}},{key:"update",value:function(t,e){if(this.xMargin={min:e-this.width/2,max:e-this.width/2+this.width},!this.pause&&this.game.ready)for(var i=0;i<this.particleQuantity;i++)this.particles[i].spawned?this.particles[i].update(t):this.particles[i].spawn(this.game.rnd.between(this.xMargin.min,this.xMargin.max),this.yMargin,this.particleLifespan)}},{key:"start",value:function(){this.pause=!1}},{key:"pause",value:function(){this.pause=!0}},{key:"kill",value:function(){delete this}}]),t}();i["default"]=r,e.exports=i["default"]},{"objects/Particle":13}],15:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=t("objects/Material"),l=s(n),r=t("includes/Helpers"),h=s(r),u=function(){function t(e,i,s){a(this,t),this.game=e,this.oType="Player",this.sounds=new Object,this.player=this.game.add.sprite(i,s,"girl"),this.player.animations.add("idle",Phaser.Animation.generateFrameNames("girl-idle",1,3),11,!0),this.player.animations.add("right",Phaser.Animation.generateFrameNames("girl-right",1,3),11,!0),this.player.animations.add("left",Phaser.Animation.generateFrameNames("girl-left",1,3),11,!0),this.player.animations.add("jump",Phaser.Animation.generateFrameNames("girl-jump",1,1),11,!0),this.player.animations.add("falling",Phaser.Animation.generateFrameNames("girl-falling",1,2),11,!0),this.player.jumping=!1,this.player.damageBounce=!1,this.stunned=!1,this.tween=null,this.drag=!1,this.pondBoost=!1,this.checkpointReached=!1,this.game.physics.p2.enable(this.player,this.game.debugMode),this.player.oType=this.oType,this.player.body.clearShapes(),this.player.body.setCircle(90),this.player.body.fixedRotation=!0,this.player.body.offset.y=10,this.player.body.velocity.y=0,this.player.body.angularDamping=1,this.material=new l["default"](this.game,"player",this.player.body),this.material.properties.relaxation=1e4,this.material.properties.friction=1e3,this.material.properties.restitution=0,this.material.properties.stiffness=1e4,this.player.body.onBeginContact.add(this.handleContact,this),this.helpers=new h["default"],this.sounds.drop=this.game.add.audio("girl-drop",.7,!1),this.sounds.move=this.game.add.audio("girl-move",.1,!0),this.sounds.boost=this.game.add.audio("girl-boost",.6,!1)}return o(t,[{key:"update",value:function(t,e,i){this.pondBoost?(this.modifier=.4,this.game.time.events.add(4*Phaser.Timer.SECOND,this.endPondBoost,this)):this.checkIfCanJump()?(this.modifier=.9,this.player.jumping&&(this.player.jumping=!1,this.sounds.drop.play())):this.modifier=1.1,this.stunned?this.checkpointReached?this.resetStunned():(this.speed=-1200,i.tilePosition.x+=15/this.modifier,this.game.progress-=3):(this.player.body.velocity.x=0,this.speed=0),this.game.cursors.interact.q.isDown&&this.game.debugMode?(this.modifier=.1,this.debug=!0):this.debug=!1,this.player.damageBounce&&!this.stunned?(this.damage(),this.player.alive=!1,this.player.exists=!0,this.player.visible=!1,this.stunned=!0):e.left.isDown&&!this.stunned?(this.player.position.x>200?this.player.body.moveLeft(400/this.modifier):this.game.progress>this.game.checkpoint&&(this.speed=-400,i.tilePosition.x+=5/this.modifier,this.game.progress-=1),this.checkIfCanJump()&&(this.game.progress>0||this.player.position.x>200?this.player.animations.play("left"):this.player.animations.play("idle"))):e.right.isDown&&!this.stunned?(this.game.width/3>this.player.position.x+98?this.player.body.moveRight(400/this.modifier):(this.speed=400,i.tilePosition.x-=5/this.modifier,this.game.progress+=1),this.checkIfCanJump()&&this.player.animations.play("right")):this.checkIfCanJump()&&this.player.animations.play("idle"),e.up.isDown&&this.checkIfCanJump()&&!this.stunned&&(this.player.animations.play("jump"),this.player.jumping=!0,this.player.body.moveUp(980)),!this.checkIfCanJump()&&this.player.body.velocity.y>250?this.player.jumping&&(this.player.body.offset.y=-50,this.player.animations.play("falling")):(this.player.jumping&&"falling"==this.player.animations.currentAnim.name&&(this.player.animations.stop(),this.player.jumping=!1),this.player.body.offset.y=10)}},{key:"checkIfCanJump",value:function(){for(var t=p2.vec2.fromValues(0,1),e=!1,i=0;i<this.game.physics.p2.world.narrowphase.contactEquations.length;i++){var s=this.game.physics.p2.world.narrowphase.contactEquations[i];if(s.bodyA===this.player.body.data||s.bodyB===this.player.body.data){var a=p2.vec2.dot(s.normalA,t);s.bodyA===this.player.body.data&&(a*=-1),a>.5&&(this.pondBoost=!1,e=!0)}}return e}},{key:"getSpeed",value:function(){return this.speed?-this.speed/this.modifier:0}},{key:"setCollisionGroup",value:function(t){this.player.body.setCollisionGroup(t)}},{key:"collides",value:function(t,e){this.player.body.collides(t,e)}},{key:"hitSprite",value:function(t,e){}},{key:"hitFiend",value:function(t,e){}},{key:"handleContact",value:function(t,e,i,s,a){}},{key:"resetStunned",value:function(){this.player.damageBounce=!1,this.stunned=!1,this.checkpointReached=!1,this.player.revive()}},{key:"heal",value:function(){this.game.health<4&&(this.game.health++,this.player.alpha=.25*this.game.health)}},{key:"damage",value:function(){this.helpers.api({progress:this.game.progress,status:"damage"}),this.game.health--,this.player.alpha=.25*this.game.health}},{key:"endPondBoost",value:function(){this.pondBoost=!1}},{key:"touchingDown",value:function(){return this.player.position.y>1e3}}]),t}();i["default"]=u,e.exports=i["default"]},{"includes/Helpers":1,"objects/Material":10}],16:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/Bitmap"),h=s(r),u=t("objects/Material"),c=s(u),d=t("objects/ParticleEmitter"),p=s(d),f=function(t){function e(t,i,s,o,n){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,s,o),this.game=t,this.oType="Pond",this.x=i,this.y=this.game.height-s,this.gravityScale=o,this.collisionGroup=n,this.visible=!1}return o(e,t),n(e,[{key:"render",value:function(){this.sprite=this.game.add.sprite(this.x,this.y,"pond"),this.sprite.position.y-=this.sprite.height/2,this.game.physics.p2.enable(this.sprite,this.game.debugMode),this.sprite.body.kinematic=!0,this.sprite.oType=this.oType,this.sprite.body.collideWorldBounds=!0,this.sprite.body.setCollisionGroup(this.collisionGroup),this.visible=!0,this.material=new c["default"](this.game,"pond",this.sprite.body),this.emitter=new p["default"](this.game,this,200,400,500,200,10,(-1),"y"),this.emitter.particle.color="#9cc9de",this.emitter.particle.width=5,this.emitter.particle.height=10,this.emitter.particle.speed=2e3,this.emitter.createParticles(),this.emitter.start(),this.sprite.alpha=1,this.tween=this.game.add.tween(this.sprite).to({alpha:.8},500,Phaser.Easing.Linear.None,!0,0,-1,!0)}},{key:"update",value:function(t){this.sprite.body.velocity.x=0,this.sprite.body.velocity.x=t.getSpeed(),this.emitter.update(t,this.sprite.position.x)}},{key:"updateEmitterPosition",value:function(){this.emitter.x=this.sprite.position.x,this.emitter.y=this.sprite.position.y}}]),e}(h["default"]);i["default"]=f,e.exports=i["default"]},{"objects/Bitmap":4,"objects/Material":10,"objects/ParticleEmitter":14}],17:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/Sprite"),h=s(r),u=t("objects/Material"),c=s(u),d=function(t){function e(t,i,s,o,n){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,s,o,n),this.game=t,this.oType="PuzzleObstacle",this.x=i,this.y=this.game.height-s,this.scale=o,this.visible=!1,this.collisionGroup=n}return o(e,t),n(e,[{key:"render",value:function(){this.sprite=this.game.add.sprite(this.x,this.y,"puzzle-obstacle"),this.sprite.position.y-=this.sprite.height/2,this.setScale(this.scale),this.game.physics.p2.enable(this.sprite,this.game.debugMode),this.sprite.oType=this.oType,this.sprite.body.kinematic=!0,this.sprite.body.collideWorldBounds=!0,this.sprite.body.setCollisionGroup(this.collisionGroup),this.visible=!0,this.sprite.isFollowingPlayer=!1,this.material=new c["default"](this.game,"puzzle-obstacle",this.sprite.body)}},{key:"update",value:function(t){this.sprite.body.velocity.x=0,this.sprite.isFollowingPlayer||(this.sprite.body.velocity.x=t.getSpeed()),this.sprite.isFollowingPlayer&&t.touchingDown()&&this.followPlayer()}},{key:"followPlayer",value:function(){this.game.cursors.interact.a.isDown?this.game.cursors.left.isDown&&this.sprite.position.x>200?this.sprite.body.moveLeft(400):this.game.cursors.right.isDown&&this.game.width/3>this.sprite.position.x-this.sprite.width/2&&this.sprite.body.moveRight(400):this.sprite.isFollowingPlayer=!1}}]),e}(h["default"]);i["default"]=d,e.exports=i["default"]},{"objects/Material":10,"objects/Sprite":20}],18:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/Sprite"),h=s(r),u=t("objects/Material"),c=s(u),d=function(t){function e(t,i,s,o,n){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,s,o,n),this.game=t,this.oType="Rock",this.x=i,this.y=this.game.height-s,this.scale=o,this.visible=!1,this.collisionGroup=n}return o(e,t),n(e,[{key:"render",value:function(){this.sprite=this.game.add.sprite(this.x,this.y,"rock"),this.setScale(this.scale),this.game.physics.p2.enable(this.sprite,this.game.debugMode),this.sprite.oType=this.oType,this.sprite.body.clearShapes(),this.sprite.body.loadPolygon("rock-physics","rock"),this.sprite.body.kinematic=!0,this.sprite.body.collideWorldBounds=!0,this.sprite.body.setCollisionGroup(this.collisionGroup),this.visible=!0,this.material=new c["default"](this.game,"rock",this.sprite.body)}}]),e}(h["default"]);i["default"]=d,e.exports=i["default"]},{"objects/Material":10,"objects/Sprite":20}],19:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/Sprite"),h=s(r),u=t("objects/Material"),c=s(u),d=function(t){function e(t,i,s,o,n){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,s,o,n),
this.game=t,this.oType="Spikes",this.x=i,this.y=this.game.height-s,this.scale=o,this.visible=!1,this.collisionGroup=n}return o(e,t),n(e,[{key:"render",value:function(){this.sprite=this.game.add.sprite(this.x,this.y,"spikes"),this.setScale(this.scale),this.game.physics.p2.enable(this.sprite,this.game.debugMode),this.sprite.oType=this.oType,this.sprite.body.clearShapes(),this.sprite.body.addRectangle(this.sprite.width,.8*this.sprite.height),this.sprite.body.kinematic=!0,this.sprite.body.collideWorldBounds=!0,this.sprite.body.setCollisionGroup(this.collisionGroup),this.visible=!0,this.material=new c["default"](this.game,"spikes",this.sprite.body)}}]),e}(h["default"]);i["default"]=d,e.exports=i["default"]},{"objects/Material":10,"objects/Sprite":20}],20:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),o=function(){function t(e,i,a,o,n){s(this,t),this.game=e,this.x=i,this.y=this.game.height-a,this.scale=o,this.visible=!1,this.collisionGroup=n}return a(t,[{key:"render",value:function(){}},{key:"hide",value:function(){this.sprite.visible=!1}},{key:"setScale",value:function(t){this.sprite.scale.setTo(t,t)}},{key:"update",value:function(t){this.sprite.body.velocity.x=0,this.sprite.body.velocity.x=t.getSpeed()}},{key:"setContact",value:function(t){this.material.setProperties(t.properties)}},{key:"setCollisionGroup",value:function(t){this.sprite.body.setCollisionGroup(t)}},{key:"collides",value:function(t,e){this.groups=t,this.sprite.body.collides(t,e)}},{key:"kill",value:function(t){"undefined"==typeof t&&(t=!1),t?(this.tween=this.game.add.tween(this.sprite).to({alpha:0},500,Phaser.Easing.Linear.None,!0,0,0,!1),this.tween.onComplete.add(this.kill,this)):(this.sprite.body.clearShapes(),this.sprite.kill())}},{key:"hitPlayer",value:function(t,e){}},{key:"hitSprite",value:function(t,e){}},{key:"onHit",value:function(){}},{key:"inView",value:function(){return this.sprite.position.x+this.sprite.width/2>0&&this.sprite.position.x+this.sprite.width/2<=this.game.width}},{key:"isOut",value:function(){return this.sprite.position.x+this.sprite.width/2<0}},{key:"destroy",value:function(){this.kill(),this.sprite.body.destroy(),this.sprite.destroy()}}]),t}();i["default"]=o,e.exports=i["default"]},{}],21:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/Sprite"),h=s(r),u=t("objects/Material"),c=s(u),d=function(t){function e(t,i,s,o,n){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i,s,o,n),this.game=t,this.oType="Trap",this.x=i,this.y=this.game.height-s,this.scale=o,this.visible=!1,this.collisionGroup=n}return o(e,t),n(e,[{key:"render",value:function(){this.sprite=this.game.add.sprite(this.x,this.y,"ground-trap"),this.sprite.position.y-=this.sprite.height/2,this.setScale(this.scale),this.game.physics.p2.enable(this.sprite,this.game.debugMode),this.sprite.oType=this.oType,this.sprite.body.kinematic=!1,this.sprite.body.collideWorldBounds=!0,this.sprite.body.setCollisionGroup(this.collisionGroup),this.visible=!0,this.sprite.isFollowingPlayer=!1,this.material=new c["default"](this.game,"ground-trap",this.sprite.body)}},{key:"update",value:function(t){this.sprite.body.velocity.x=0,this.sprite.isFollowingPlayer||(this.sprite.body.velocity.x=t.getSpeed()),this.inView()?this.sprite.body.dynamic=!0:this.sprite.body.kinematic=!0,this.sprite.isFollowingPlayer&&this.followPlayer()}},{key:"followPlayer",value:function(){this.game.cursors.interact.a.isDown?this.game.cursors.left.isDown&&this.sprite.position.x>200?this.sprite.body.moveLeft(400):this.game.cursors.right.isDown&&this.game.width/3>this.sprite.position.x-this.sprite.width/2&&this.sprite.body.moveRight(400):this.sprite.isFollowingPlayer=!1}}]),e}(h["default"]);i["default"]=d,e.exports=i["default"]},{"objects/Material":10,"objects/Sprite":20}],22:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),o=function(){function t(e){s(this,t),this.game=e}return a(t,[{key:"addFog",value:function(){var t=this.game.add.bitmapData(this.game.width,this.game.height);t.ctx.rect(0,0,this.game.width,this.game.height),t.ctx.fillStyle="#b2ddc8",t.ctx.fill(),this.fogSprite=this.game.add.sprite(0,0,t),this.fogSprite.alpha=0,this.game.add.tween(this.fogSprite).to({alpha:.3},6e3,null,!0)}},{key:"removeFog",value:function(){var t=this,e=this.game.add.tween(this.fogSprite).to({alpha:0},6e3,null,!0);e.onComplete.add(function(){t.fogSprite.kill()},this)}},{key:"addRain",value:function(){var t=this.game.add.bitmapData(15,50);t.ctx.rect(0,0,15,50),t.ctx.fillStyle="#9cc9de",t.ctx.fill(),this.emitter=this.game.add.emitter(this.game.world.centerX,-300,400),this.emitter.width=this.game.world.width,this.emitter.angle=10,this.emitter.makeParticles(t),this.emitter.minParticleScale=.1,this.emitter.maxParticleScale=.3,this.emitter.setYSpeed(600,1e3),this.emitter.setXSpeed(-5,5),this.emitter.minRotation=0,this.emitter.maxRotation=0,this.emitter.start(!1,1600,5,0)}},{key:"removeRain",value:function(){this.emitter.kill()}}]),t}();i["default"]=o,e.exports=i["default"]},{}],23:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},l=function(t){function e(){s(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return a(e,t),o(e,[{key:"preload",value:function(){}},{key:"create",value:function(){this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.state.start("Preload"),this.game.uniqueKey="E8jpNY2r8Rr27BaLmnLg",this.game.lastLvlId=5}}]),e}(Phaser.State);i["default"]=l,e.exports=i["default"]},{}],24:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/MenuButton"),h=s(r),u=function(t){function e(){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),n(e,[{key:"create",value:function(){this.logo=this.game.add.image(this.game.width/2,140,"logo"),this.logo.scale.setTo(.5,.5),this.logo.anchor.setTo(.5,0),this.back=new h["default"](this.game,this.game.width/2,this.logo.position.y+this.logo.height+100,"Back",this.mainMenu),this.move=new h["default"](this.game,this.game.width/2,this.back.position.y+this.back.height+40,"Movement: Cursors <Left>, <Right>",null),this.jump=new h["default"](this.game,this.game.width/2,this.move.position.y+this.move.height+20,"Jump: Cursor <Up>",null),this.interact=new h["default"](this.game,this.game.width/2,this.jump.position.y+this.jump.height+20,"Interact with objects: Hold <A>",null),this.quit=new h["default"](this.game,this.game.width/2,this.interact.position.y+this.interact.height+20,"Quit game <ESC>",null)}},{key:"mainMenu",value:function(){this.game.state.start("Menu")}}]),e}(Phaser.State);i["default"]=u,e.exports=i["default"]},{"objects/MenuButton":11}],25:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/MenuButton"),h=s(r),u=function(t){function e(){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),n(e,[{key:"create",value:function(){this.credits=new h["default"](this.game,this.game.width/2,this.game.height,"\n\nCREDITS\n\nGame designed and developed by Ante Bari\nPowered by Phaser Engine\n\nSPECIAL THANKS\n\nFabijan Bari, head of testing\nMladen Konecki, mentor\nLinda Rae (Brush set)\nLeshy Labs LLC (SpriteSheet Tool)\n\nBETA testers\n\nagadmator\nandreaperkovic001\nanja.995\narneo.marinvincetic\natomas\nbruno.colan2\nbumblebrouge\ndakimakaki\ndamir.drempetic\ndeajakovl\ndenis.dulovic\ndoroteja.buden\nfabijan.baric1\nfaenryr\nfilip.rapaic\nfilipp.aleksic\ngoran.vincic1995\nivan.penga\nivansusec\njaymomyaj\njunglelord2103\nkarlo.mioc1\nkgrlic\nlamburea\nlana.jelusic\nmagdicvalentin2\nmajnam\nmarijo\nmario_tudan\nmartinovic.antonio\nmilutin.mario\nmladen.konecki\nmoonshadow565\nmvlaovic\npaskal.suto\nphototracer\nsttevann\nteo.kantoci\nvalthefierce\n\n\n dedicated to V.K.",null),this.credits.text.anchor.set(.5,0),this.tween=this.game.add.tween(this.credits.text).to({y:-this.credits.height},2e4,Phaser.Easing.Linear.None,!0,0,0,!1),this.tween.onComplete.add(this.mainMenu,this);var t=this.game.add.bitmapData(this.game.width,200);t.ctx.rect(0,0,this.game.width,200),t.ctx.fillStyle="#000000",t.ctx.fill(),this.blackBg=this.game.add.sprite(0,0,t),this.back=new h["default"](this.game,this.game.width/2,100,"Back",this.mainMenu)}},{key:"mainMenu",value:function(){this.game.state.start("Menu")}}]),e}(Phaser.State);i["default"]=u,e.exports=i["default"]},{"objects/MenuButton":11}],26:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},l=function(t){function e(){s(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return a(e,t),o(e,[{key:"create",value:function(){this.restartGame()}},{key:"restartGame",value:function(){this.game.state.start("Main",!0,!1)}}]),e}(Phaser.State);i["default"]=l,e.exports=i["default"]},{}],27:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/MenuButton"),h=s(r),u=t("includes/LevelData"),c=(s(u),function(t){function e(){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),n(e,[{key:"create",value:function(){this.logo=this.game.add.image(this.game.width/2,140,"logo"),this.logo.scale.setTo(.5,.5),this.logo.anchor.setTo(.5,0),this.lvlProgress=localStorage.getItem(this.game.uniqueKey),this.lvlProgress||(this.lvlProgress=1,localStorage.setItem(this.game.uniqueKey,1)),this.lvlButtons=new Array,this.back=new h["default"](this.game,this.game.width/2,this.logo.position.y+this.logo.height+100,"Back",this.mainMenu),this.lvlButtons[1]=new h["default"](this.game,this.game.width/2-110,this.back.position.y+this.back.height+40,"Level 1",this.startLvl1),this.lvlButtons[2]=new h["default"](this.game,this.game.width/2+110,this.back.position.y+this.back.height+40,"Level 2",this.startLvl2),this.lvlButtons[3]=new h["default"](this.game,this.game.width/2-110,this.lvlButtons[1].position.y+this.lvlButtons[1].height+20,"Level 3",this.startLvl3),this.lvlButtons[4]=new h["default"](this.game,this.game.width/2+110,this.lvlButtons[1].position.y+this.lvlButtons[1].height+20,"Level 4",this.startLvl4),this.lvlButtons[5]=new h["default"](this.game,this.game.width/2,this.lvlButtons[3].position.y+this.lvlButtons[3].height+20,"Level 5",this.startLvl5);for(var t=1;t<=this.game.lastLvlId;t++)this.lvlProgress<t&&this.lvlButtons[t].disable()}},{key:"mainMenu",value:function(){this.game.state.start("Menu")}},{key:"startLvl1",value:function(){this.game.lvlId=1,this.game.state.start("Main")}},{key:"startLvl2",value:function(){this.game.lvlId=2,this.game.state.start("Main")}},{key:"startLvl3",value:function(){this.game.lvlId=3,this.game.state.start("Main")}},{key:"startLvl4",value:function(){this.game.lvlId=4,this.game.state.start("Main")}},{key:"startLvl5",value:function(){this.game.lvlId=5,this.game.state.start("Main")}}]),e}(Phaser.State));i["default"]=c,e.exports=i["default"]},{"includes/LevelData":2,"objects/MenuButton":11}],28:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/DayCycle"),h=s(r),u=t("objects/Weather"),c=s(u),d=t("objects/Player"),p=s(d),f=t("objects/Dummy"),g=(s(f),t("includes/Helpers")),m=s(g),y=t("objects/MenuButton"),b=s(y),v=t("includes/LevelData"),w=s(v),C=function(t){function e(){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),n(e,[{key:"create",value:function(){this.game.health=4,this.game.progress=0,this.game.orbCount=0,this.game.checkpoint=0,this.game.debugMode=!1,this.game.ready=!1,this.game.end=!1,this.game.day=!1,this.game.soundsDecoded=!1,this.game.sounds=new Object,this.helpers=new m["default"](this.game),this.lvlProgress=localStorage.getItem(this.game.uniqueKey),this.lvlScore=localStorage.getItem(this.game.uniqueKey+"L"+this.game.lvlId),this.game.world.setBounds(-1024,0,this.game.width+1024,this.game.height),this.game.physics.startSystem(Phaser.Physics.P2JS),this.game.physics.p2.restitution=0,this.game.physics.p2.setImpactEvents(!0),this.game.physics.p2.gravity.y=1800,this.game.physics.p2.setPostBroadphaseCallback(this.handleContact,this),this.game.debugMode||this.game.scale.startFullScreen(),this.game.cameraOffset=1024,this.game.camera.width=0,this.playerCollision=this.game.physics.p2.createCollisionGroup(),this.obstaclesCollision=this.game.physics.p2.createCollisionGroup(),this.interactionCollision=this.game.physics.p2.createCollisionGroup(),this.fiendCollision=this.game.physics.p2.createCollisionGroup(),this.puzzleCollision=this.game.physics.p2.createCollisionGroup(),this.worldCollision=this.game.physics.p2.createCollisionGroup(),this.game.physics.p2.updateBoundsCollisionGroup(),this.lvlData=new w["default"](this.game),this.game.lvlObjects=this.lvlData.fetch({playerCollision:this.playerCollision,obstaclesCollision:this.obstaclesCollision,interactionCollision:this.interactionCollision,fiendCollision:this.fiendCollision,worldCollision:this.worldCollision,puzzleCollision:this.puzzleCollision});var t=this.game.add.bitmapData(this.game.width,this.game.height);t.ctx.rect(0,0,this.game.width,this.game.height),t.ctx.fillStyle=this.game.lvlFillColor,t.ctx.fill(),this.backgroundSprite=this.game.add.sprite(0,0,t),this.sunSprite=this.game.add.sprite(this.game.width/2-138,750,"sun"),this.moonSprite=this.game.add.sprite(this.game.width-this.game.width/4,150*this.game.lvlId,"moon"),this.moonSprite.visible=!1,this.sunSprite.visible=!1,this.backgroundMid=this.game.add.tileSprite(0,this.game.height-this.game.cache.getImage("background-mid-lvl"+this.game.lvlId).height,this.game.width,this.game.cache.getImage("background-mid-lvl"+this.game.lvlId).height,"background-mid-lvl"+this.game.lvlId),this.player=new p["default"](this.game,150,this.game.height-95),this.player.setCollisionGroup(this.playerCollision),this.player.collides([this.obstaclesCollision,this.worldCollision,this.interactionCollision,this.fiendCollision,this.puzzleCollision],this.player.hitSprite),this.backgroundBottom=this.game.add.tileSprite(0,this.game.height-this.game.cache.getImage("background-bottom").height,this.game.width,this.game.cache.getImage("background-bottom").height,"background-bottom");for(var e=0;e<this.game.lvlObjects.length;e++)this.game.lvlObjects[e].render(),this.game.lvlObjects[e].collides([this.playerCollision],this.game.lvlObjects[e].hitPlayer,this.onHit,this),this.game.lvlObjects[e].collides([this.obstaclesCollision,this.worldCollision,this.interactionCollision],this.game.lvlObjects[e].hitSprite),"PuzzleObstacle"!=this.game.lvlObjects[e].oType&&this.game.lvlObjects[e].collides([this.puzzleCollision],this.game.lvlObjects[e].hitSprite),this.game.lvlObjects[e].setContact(this.player.material);this.game.lvlObjects[this.game.lvlObjects.length-1].sprite.oType="EndGame",this.dayCycle=new h["default"](this.game,0),this.game.day?this.dayCycle.initSun(this.sunSprite):this.dayCycle.initMoon(this.moonSprite),this.dayCycle.initShading(i);var i=[{sprite:this.backgroundSprite,from:2042407,to:11722184},{sprite:this.backgroundMid,from:2635314,to:9157804},{sprite:this.backgroundBottom,from:2635314,to:9157804}];this.weather=new c["default"](this.game),this.weather.addRain(),this.game.fog&&this.weather.addFog(),this.game.sounds.backgroundRain=this.game.add.audio("background-rain",1,!0),this.game.sounds.backgroundWind=this.game.add.audio("background-wind",.2,!0),this.game.sound.setDecodedCallback([this.game.sounds.backgroundRain,this.game.sounds.backgroundRain],this.playSounds,this),this.orbCountDisplay=new b["default"](this.game,this.game.width-200,60,"Orbs collected: "+this.game.orbCount,null,{font:"Arial",fontWeight:"normal",fontSize:28,fill:"#FFFFFF",align:"right"}),this.healthDisplay=new b["default"](this.game,200,60,"Lives: "+this.game.health,null,{font:"Arial",fontWeight:"normal",fontSize:28,fill:"#FFFFFF",align:"left"});var s=this.game.add.bitmapData(this.game.width,this.game.height);s.ctx.rect(0,0,this.game.width,this.game.height),s.ctx.fillStyle="#000000",s.ctx.fill(),this.messageBackground=this.game.add.sprite(0,0,s),this.text=this.game.add.text(this.game.width/2,this.game.height/2,this.game.lvlIntroText),this.text.anchor.setTo(.5),this.text.font="IM Fell DW Pica",this.text.fontWeight="normal",this.text.fontSize=60,this.text.fill="#FFFFFF",this.text.align="center",this.game.time.events.add(4*Phaser.Timer.SECOND,this.clearStartMessage,this),this.game.cursors=this.input.keyboard.createCursorKeys(),this.game.cursors.interact={a:this.input.keyboard.addKey(Phaser.Keyboard.A),q:this.input.keyboard.addKey(Phaser.Keyboard.Q),esc:this.input.keyboard.addKey(Phaser.Keyboard.ESC)},this.game.camera.follow(this.player.sprite)}},{key:"update",value:function(){if(this.game.cursors.interact.esc.isDown)return this.game.ready=!1,void this.showLoadingMessage("... Loading, please wait ...",this.mainMenu);this.orbCountDisplay.text.setText("Orbs collected: "+this.game.orbCount),this.healthDisplay.text.setText("Lives: "+this.game.health),this.backgroundBottom.tilePosition.x-=3;for(var t=0;t<this.game.lvlObjects.length;t++)this.game.lvlObjects[t].update(this.player);for(;!this.game.ready;)return;return this.game.end?(this.game.ready=!1,this.helpers.api({progress:this.game.progress,status:"win"}),void(this.game.lvlId==this.game.lastLvlId?this.showLoadingMessage("... Wake Up!! ...",this.gameEnd):this.showLoadingMessage("... Loading, please wait ...",this.gameEnd))):this.game.health?void this.player.update(this.game,this.game.cursors,this.backgroundMid):(this.game.ready=!1,this.helpers.api({progress:this.game.progress,status:"dead"}),void this.showLoadingMessage("... Loading, please wait ...",this.gameOver))}},{key:"handleContact",value:function(t,e){if(null==t.sprite||null==e.sprite)return!1;if("Player"==t.sprite.oType)var i=e.sprite,s=t.sprite;else if("Player"==e.sprite.oType)var i=t.sprite,s=e.sprite;else{if("Trap"==t.sprite.oType)var i=e.sprite,a=t.sprite;else var i=t.sprite,a=e.sprite;var s=null}if("Checkpoint"!=i.oType&&null!=s&&(this.player.stunned||this.player.debug))return!1;switch(i.oType){case"EndGame":return null!=s&&(this.player.player.animations.play("idle"),this.game.end=!0),!0;case"Orb":return null!=s&&(i.collect=!0),!1;case"Fiend":return null!=s?s.damageBounce||(s.damageBounce=!0,i.playerHit=!0):"Trap"!=i.oType&&"Trap"!=a.oType||(i.trapHit=!0),!1;case"FlyingFiend":return null!=s&&(s.damageBounce||i.wasted||(i.wasted=!0,i.playerHit=!0,s.damageBounce=!0)),!1;case"Trap":return this.game.cursors.interact.a.isDown?i.isFollowingPlayer=!0:i.isFollowingPlayer=!1,!1;case"PuzzleObstacle":return this.game.cursors.interact.a.isDown?this.player.drag||(i.isFollowingPlayer=!0,this.player.drag=i):(this.player.drag=!1,i.isFollowingPlayer=!1),!this.player.touchingDown();case"Spikes":return null!=s&&(s.damageBounce||(s.damageBounce=!0)),!1;case"Pond":return null!=s&&s.position.y>this.game.height-300&&(s.animations.play("jump"),s.jumping=!0,s.body.moveUp(1380),this.player.pondBoost=!0,this.player.sounds.boost.play()),!1;case"Particle":return!1;case"Checkpoint":return null!=s&&(this.game.checkpoint<this.game.progress&&(i.showHint=!0,this.clearObjectArray()),this.game.checkpoint=this.game.progress,this.player.stunned&&(i.showHint=!0,this.player.checkpointReached=!0)),!1;default:return!0}}},{key:"clearStartMessage",value:function(){this.game.ready=!0,this.game.add.tween(this.text).to({alpha:0},500,Phaser.Easing.Linear.None,!0,0,0,!1),this.startMessageTween=this.game.add.tween(this.messageBackground).to({alpha:0},2e3,Phaser.Easing.Linear.None,!0,0,0,!1),this.startMessageTween.onComplete.add(this.startGame,this)}},{key:"showLoadingMessage",value:function(t,e){var i=this.game.add.bitmapData(this.game.width,this.game.height);i.ctx.rect(0,0,this.game.width,this.game.height),i.ctx.fillStyle="#000000",i.ctx.fill(),this.messageBackground=this.game.add.sprite(0,0,i),this.messageBackground.alpha=0,this.text=this.game.add.text(this.game.width/2,this.game.height/2,t),this.text.anchor.setTo(.5),this.text.font="IM Fell DW Pica",this.text.fontWeight="normal",this.text.fontSize=60,this.text.fill="#FFFFFF",this.text.align="center",this.text.alpha=0,this.game.add.tween(this.text).to({alpha:1},500,Phaser.Easing.Linear.None,!0,0,0,!1),this.endMessageTween=this.game.add.tween(this.messageBackground).to({alpha:1},2e3,Phaser.Easing.Linear.None,!0,0,0,!1),this.endMessageTween.onComplete.add(e,this)}},{key:"startGame",value:function(){this.messageBackground.kill(),this.text.kill()}},{key:"gameOver",value:function(){this.game.state.clearCurrentState(),(!this.lvlScore||this.lvlScore<this.game.progress)&&localStorage.setItem(this.game.uniqueKey+"L"+this.game.lvlId,this.game.progress),this.game.state.start("GameOver",!0,!1)}},{key:"mainMenu",value:function(){this.game.state.clearCurrentState(),(!this.lvlScore||this.lvlScore<this.game.progress)&&localStorage.setItem(this.game.uniqueKey+"L"+this.game.lvlId,this.game.progress),this.game.state.start("Menu",!0,!1)}},{key:"gameEnd",value:function(){this.game.state.clearCurrentState(),(!this.lvlScore||this.lvlScore<this.game.progress)&&localStorage.setItem(this.game.uniqueKey+"L"+this.game.lvlId,this.game.progress),this.game.lvlId++,(!this.lvlProgress||this.lvlProgress<this.game.lvlId)&&localStorage.setItem(this.game.uniqueKey,this.game.lvlId),this.game.lvlId>this.game.lastLvlId?this.game.state.start("Credits",!0,!1):this.game.state.start("Main",!0,!1)}},{key:"playSounds",value:function(){this.game.sounds.backgroundRain.play(),this.game.sounds.backgroundWind.play(),this.game.soundsDecoded=!0}},{key:"clearObjectArray",value:function(){for(var t=0;t<this.game.lvlObjects.length;t++)this.game.lvlObjects[t].isOut()&&(this.game.lvlObjects[t].destroy(),delete this,this.game.lvlObjects.splice(t,1))}}]),e}(Phaser.State);i["default"]=C,e.exports=i["default"]},{"includes/Helpers":1,"includes/LevelData":2,"objects/DayCycle":6,"objects/Dummy":7,"objects/MenuButton":11,"objects/Player":15,"objects/Weather":22}],29:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/MenuButton"),h=s(r),u=function(t){function e(){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),n(e,[{key:"create",value:function(){this.game.sound.pauseAll(),this.logo=this.game.add.image(this.game.width/2,140,"logo"),this.logo.scale.setTo(.5,.5),this.logo.anchor.setTo(.5,0),this.play=new h["default"](this.game,this.game.width/2,this.logo.position.y+this.logo.height+100,"Play",this.lvlSelect),this.controls=new h["default"](this.game,this.game.width/2,this.play.position.y+this.play.height+20,"Controls",this.Controls),this.stats=new h["default"](this.game,this.game.width/2,this.controls.position.y+this.controls.height+20,"Achievements",this.Stats),this.credits=new h["default"](this.game,this.game.width/2,this.stats.position.y+this.stats.height+20,"Credits",this.Credits)}},{key:"startGame",value:function(){this.game.state.start("Main")}},{key:"lvlSelect",value:function(){this.game.state.start("LevelSelect")}},{key:"Controls",value:function(){this.game.state.start("Controls")}},{key:"Stats",value:function(){this.game.state.start("Stats")}},{key:"Credits",value:function(){this.game.state.start("Credits")}}]),e}(Phaser.State);
i["default"]=u,e.exports=i["default"]},{"objects/MenuButton":11}],30:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),n=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},l=function(t){function e(){s(this,e),n(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return a(e,t),o(e,[{key:"loadUpdate",value:function(){var t=this.game.add.bitmapData(this.game.width,this.game.height);t.ctx.rect(0,0,this.game.width,this.game.height),t.ctx.fillStyle="#000000",t.ctx.fill(),this.loader=this.game.add.sprite(0,0,t),this.text=this.game.add.text(this.game.width/2,this.game.height/2,"... Loading "+this.load.progress+"% ..."),this.text.anchor.setTo(.5),this.text.font="IM Fell DW Pica",this.text.fontWeight="normal",this.text.fontSize=60,this.text.fill="#FFFFFF",this.text.align="center"}},{key:"preload",value:function(){this.game.load.audio("background-rain","assets/sounds/background-rain.mp3"),this.game.load.audio("background-wind","assets/sounds/background-wind.mp3"),this.game.load.audio("fiend-hit","assets/sounds/fiend-hit.mp3"),this.game.load.audio("flying-shadow-idle","assets/sounds/flying-shadow-idle.mp3"),this.game.load.audio("girl-drop","assets/sounds/girl-drop.mp3"),this.game.load.audio("girl-move","assets/sounds/girl-move.mp3"),this.game.load.audio("girl-boost","assets/sounds/girl-boost.mp3"),this.game.load.audio("orb-collect","assets/sounds/orb-collect.mp3"),this.game.load.image("logo","assets/menu/logo.png"),this.game.load.spritesheet("girl-dummy-sprite","assets/girl-dummy-sprite.png",169,180),this.game.load.atlas("girl","assets/girl.png","assets/girl.json"),this.game.load.spritesheet("hair","assets/hair.png",161,177),this.game.load.spritesheet("hair-moving","assets/hair-moving.png",218,177),this.game.load.spritesheet("hair-falling","assets/hair-falling.png",101,135),this.game.load.image("background-mid-lvl1","assets/backgrounds/background-mid-lvl1.png"),this.game.load.image("background-mid-lvl2","assets/backgrounds/background-mid-lvl2.png"),this.game.load.image("background-mid-lvl3","assets/backgrounds/background-mid-lvl3.png"),this.game.load.image("background-mid-lvl4","assets/backgrounds/background-mid-lvl4.png"),this.game.load.image("background-mid-lvl5","assets/backgrounds/background-mid-lvl5.png"),this.game.load.image("background-bottom","assets/backgrounds/background-bottom.png"),this.game.load.spritesheet("rock","assets/objects/rock.png",456,469),this.game.load.physics("rock-physics","assets/objects/rock-physics.json"),this.game.load.spritesheet("orb","assets/objects/orb.png",90,90),this.game.load.spritesheet("ground-trap","assets/objects/ground-trap.png",222,41),this.game.load.spritesheet("spikes","assets/objects/spikes.png",391,244),this.game.load.spritesheet("pond","assets/objects/pond.png",250,400),this.game.load.spritesheet("puzzle-obstacle","assets/objects/puzzle-obstacle.png",250,600),this.game.load.atlas("shadow-hand","assets/shadow-hand.png","assets/shadow-hand.json"),this.game.load.atlas("flying-shadow","assets/flying-shadow.png","assets/flying-shadow.json"),this.game.load.image("sun","assets/sun.png"),this.game.load.image("moon","assets/moon.png")}},{key:"create",value:function(){this.game.state.start("Menu")}}]),e}(Phaser.State);i["default"]=l,e.exports=i["default"]},{}],31:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/MenuButton"),h=s(r),u=function(t){function e(){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),n(e,[{key:"create",value:function(){this.logo=this.game.add.image(this.game.width/2,140,"logo"),this.logo.scale.setTo(.5,.5),this.logo.anchor.setTo(.5,0);for(var t=new Array,e=1;e<=this.game.lastLvlId;e++)t[e]=localStorage.getItem(this.game.uniqueKey+"L"+e);this.statsButtons=new Array,this.back=new h["default"](this.game,this.game.width/2,this.logo.position.y+this.logo.height+100,"Back",this.mainMenu),this.statsButtons[1]=new h["default"](this.game,this.game.width/2-200,this.back.position.y+this.back.height+20,"Level 1: "+(t[1]?t[1]:"/"),null),this.statsButtons[2]=new h["default"](this.game,this.game.width/2+200,this.back.position.y+this.back.height+20,"Level 2: "+(t[2]?t[2]:"/"),null),this.statsButtons[3]=new h["default"](this.game,this.game.width/2-200,this.statsButtons[1].position.y+this.statsButtons[1].height+20,"Level 3: "+(t[3]?t[3]:"/"),null),this.statsButtons[4]=new h["default"](this.game,this.game.width/2+200,this.statsButtons[1].position.y+this.statsButtons[1].height+20,"Level 4: "+(t[4]?t[4]:"/"),null),this.statsButtons[5]=new h["default"](this.game,this.game.width/2,this.statsButtons[3].position.y+this.statsButtons[3].height+20,"Level 5: "+(t[5]?t[5]:"/"),null)}},{key:"mainMenu",value:function(){this.game.state.start("Menu")}}]),e}(Phaser.State);i["default"]=u,e.exports=i["default"]},{"objects/MenuButton":11}],32:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),l=function(t,e,i){for(var s=!0;s;){var a=t,o=e,n=i;s=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var r=l.get;if(void 0===r)return;return r.call(n)}var h=Object.getPrototypeOf(a);if(null===h)return;t=h,e=o,i=n,s=!0,l=h=void 0}},r=t("objects/DayCycle"),h=s(r),u=t("objects/Weather"),c=s(u),d=t("objects/Player"),p=s(d),f=t("objects/Dummy"),g=(s(f),t("includes/Helpers")),m=s(g),y=t("objects/MenuButton"),b=s(y),v=t("includes/LevelData"),w=s(v),C=function(t){function e(){a(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),n(e,[{key:"create",value:function(){this.game.health=4,this.game.progress=0,this.game.orbCount=0,this.game.checkpoint=0,this.game.debugMode=!0,this.game.ready=!0,this.game.lvlId=4,this.game.end=!1,this.game.day=!1,this.game.soundsDecoded=!1,this.game.sounds=new Object,this.helpers=new m["default"](this.game),this.lvlProgress=localStorage.getItem(this.game.uniqueKey),this.lvlScore=localStorage.getItem(this.game.uniqueKey+"L"+this.game.lvlId),this.game.world.setBounds(-1024,0,this.game.width+1024,this.game.height),this.game.physics.startSystem(Phaser.Physics.P2JS),this.game.physics.p2.restitution=0,this.game.physics.p2.setImpactEvents(!0),this.game.physics.p2.gravity.y=1800,this.game.physics.p2.setPostBroadphaseCallback(this.handleContact,this),this.game.debugMode||this.game.scale.startFullScreen(),this.game.cameraOffset=1024,this.game.camera.width=0,this.playerCollision=this.game.physics.p2.createCollisionGroup(),this.obstaclesCollision=this.game.physics.p2.createCollisionGroup(),this.interactionCollision=this.game.physics.p2.createCollisionGroup(),this.fiendCollision=this.game.physics.p2.createCollisionGroup(),this.puzzleCollision=this.game.physics.p2.createCollisionGroup(),this.worldCollision=this.game.physics.p2.createCollisionGroup(),this.game.physics.p2.updateBoundsCollisionGroup(),this.lvlData=new w["default"](this.game),this.game.lvlObjects=this.lvlData.fetch({playerCollision:this.playerCollision,obstaclesCollision:this.obstaclesCollision,interactionCollision:this.interactionCollision,fiendCollision:this.fiendCollision,worldCollision:this.worldCollision,puzzleCollision:this.puzzleCollision});var t=this.game.add.bitmapData(this.game.width,this.game.height);t.ctx.rect(0,0,this.game.width,this.game.height),t.ctx.fillStyle=this.game.lvlFillColor,t.ctx.fill(),this.backgroundSprite=this.game.add.sprite(0,0,t),this.sunSprite=this.game.add.sprite(this.game.width/2-138,750,"sun"),this.moonSprite=this.game.add.sprite(this.game.width-this.game.width/4,150*this.game.lvlId,"moon"),this.moonSprite.visible=!1,this.sunSprite.visible=!1,this.backgroundMid=this.game.add.tileSprite(0,this.game.height-this.game.cache.getImage("background-mid-lvl"+this.game.lvlId).height,this.game.width,this.game.cache.getImage("background-mid-lvl"+this.game.lvlId).height,"background-mid-lvl"+this.game.lvlId),this.player=new p["default"](this.game,150,this.game.height-95),this.player.setCollisionGroup(this.playerCollision),this.player.collides([this.obstaclesCollision,this.worldCollision,this.interactionCollision,this.fiendCollision,this.puzzleCollision],this.player.hitSprite),this.backgroundBottom=this.game.add.tileSprite(0,this.game.height-this.game.cache.getImage("background-bottom").height,this.game.width,this.game.cache.getImage("background-bottom").height,"background-bottom");for(var e=0;e<this.game.lvlObjects.length;e++)this.game.lvlObjects[e].render(),this.game.lvlObjects[e].collides([this.playerCollision],this.game.lvlObjects[e].hitPlayer,this.onHit,this),this.game.lvlObjects[e].collides([this.obstaclesCollision,this.worldCollision,this.interactionCollision],this.game.lvlObjects[e].hitSprite),"PuzzleObstacle"!=this.game.lvlObjects[e].oType&&this.game.lvlObjects[e].collides([this.puzzleCollision],this.game.lvlObjects[e].hitSprite),this.game.lvlObjects[e].setContact(this.player.material);this.game.lvlObjects[this.game.lvlObjects.length-1].sprite.oType="EndGame",this.dayCycle=new h["default"](this.game,0),this.game.day?this.dayCycle.initSun(this.sunSprite):this.dayCycle.initMoon(this.moonSprite),this.dayCycle.initShading(i);var i=[{sprite:this.backgroundSprite,from:2042407,to:11722184},{sprite:this.backgroundMid,from:2635314,to:9157804},{sprite:this.backgroundBottom,from:2635314,to:9157804}];this.weather=new c["default"](this.game),this.weather.addRain(),this.game.fog&&this.weather.addFog(),this.game.sounds.backgroundRain=this.game.add.audio("background-rain",1,!0),this.game.sounds.backgroundWind=this.game.add.audio("background-wind",.2,!0),this.game.sound.setDecodedCallback([this.game.sounds.backgroundRain,this.game.sounds.backgroundRain],this.playSounds,this),this.orbCountDisplay=new b["default"](this.game,this.game.width-200,60,"Orbs collected: "+this.game.orbCount,null,{font:"Arial",fontWeight:"normal",fontSize:28,fill:"#FFFFFF",align:"right"}),this.healthDisplay=new b["default"](this.game,200,60,"Lives: "+this.game.health,null,{font:"Arial",fontWeight:"normal",fontSize:28,fill:"#FFFFFF",align:"left"}),this.game.cursors=this.input.keyboard.createCursorKeys(),this.game.cursors.interact={a:this.input.keyboard.addKey(Phaser.Keyboard.A),q:this.input.keyboard.addKey(Phaser.Keyboard.Q),esc:this.input.keyboard.addKey(Phaser.Keyboard.ESC)},this.game.camera.follow(this.player.sprite)}},{key:"update",value:function(){if(this.game.cursors.interact.esc.isDown)return this.game.ready=!1,void this.showLoadingMessage("... Loading, please wait ...",this.mainMenu);this.orbCountDisplay.text.setText("Orbs collected: "+this.game.orbCount),this.healthDisplay.text.setText("Lives: "+this.game.health),this.backgroundBottom.tilePosition.x-=3;for(var t=0;t<this.game.lvlObjects.length;t++)this.game.lvlObjects[t].update(this.player);for(;!this.game.ready;)return;return this.game.end?(this.game.ready=!1,this.helpers.api({progress:this.game.progress,status:"win"}),void(this.game.lvlId==this.game.lastLvlId?this.showLoadingMessage("... Wake Up!! ...",this.gameEnd):this.showLoadingMessage("... Loading, please wait ...",this.gameEnd))):this.game.health?void this.player.update(this.game,this.game.cursors,this.backgroundMid):(this.game.ready=!1,this.helpers.api({progress:this.game.progress,status:"dead"}),void this.showLoadingMessage("... Loading, please wait ...",this.gameOver))}},{key:"handleContact",value:function(t,e){if(null==t.sprite||null==e.sprite)return!1;if("Player"==t.sprite.oType)var i=e.sprite,s=t.sprite;else if("Player"==e.sprite.oType)var i=t.sprite,s=e.sprite;else{if("Trap"==t.sprite.oType)var i=e.sprite,a=t.sprite;else var i=t.sprite,a=e.sprite;var s=null}if("Checkpoint"!=i.oType&&null!=s&&(this.player.stunned||this.player.debug))return!1;switch(i.oType){case"EndGame":return null!=s&&(this.player.player.animations.play("idle"),this.game.end=!0),!0;case"Orb":return null!=s&&(i.collect=!0),!1;case"Fiend":return null!=s?s.damageBounce||(s.damageBounce=!0,i.playerHit=!0):"Trap"!=i.oType&&"Trap"!=a.oType||(i.trapHit=!0),!1;case"FlyingFiend":return null!=s&&(s.damageBounce||(i.playerHit=!0,s.damageBounce=!0)),!1;case"Trap":return this.game.cursors.interact.a.isDown?i.isFollowingPlayer=!0:i.isFollowingPlayer=!1,!1;case"PuzzleObstacle":return this.game.cursors.interact.a.isDown?this.player.drag||(i.isFollowingPlayer=!0,this.player.drag=i):(this.player.drag=!1,i.isFollowingPlayer=!1),!this.player.touchingDown();case"Spikes":return null!=s&&(s.damageBounce||(s.damageBounce=!0)),!1;case"Pond":return null!=s&&s.position.y>this.game.height-300&&(s.animations.play("jump"),s.jumping=!0,s.body.moveUp(1380),this.player.pondBoost=!0,this.player.sounds.boost.play()),!1;case"Particle":return!1;case"Checkpoint":return null!=s&&(this.game.checkpoint<this.game.progress&&(i.showHint=!0,this.clearObjectArray()),this.game.checkpoint=this.game.progress,this.player.stunned&&(i.showHint=!0,this.player.checkpointReached=!0)),!1;default:return!0}}},{key:"clearStartMessage",value:function(){this.game.ready=!0,this.game.add.tween(this.text).to({alpha:0},500,Phaser.Easing.Linear.None,!0,0,0,!1),this.startMessageTween=this.game.add.tween(this.messageBackground).to({alpha:0},2e3,Phaser.Easing.Linear.None,!0,0,0,!1),this.startMessageTween.onComplete.add(this.startGame,this)}},{key:"showLoadingMessage",value:function(t,e){var i=this.game.add.bitmapData(this.game.width,this.game.height);i.ctx.rect(0,0,this.game.width,this.game.height),i.ctx.fillStyle="#000000",i.ctx.fill(),this.messageBackground=this.game.add.sprite(0,0,i),this.messageBackground.alpha=0,this.text=this.game.add.text(this.game.width/2,this.game.height/2,t),this.text.anchor.setTo(.5),this.text.font="IM Fell DW Pica",this.text.fontWeight="normal",this.text.fontSize=60,this.text.fill="#FFFFFF",this.text.align="center",this.text.alpha=0,this.game.add.tween(this.text).to({alpha:1},500,Phaser.Easing.Linear.None,!0,0,0,!1),this.endMessageTween=this.game.add.tween(this.messageBackground).to({alpha:1},2e3,Phaser.Easing.Linear.None,!0,0,0,!1),this.endMessageTween.onComplete.add(e,this)}},{key:"startGame",value:function(){this.messageBackground.kill(),this.text.kill()}},{key:"gameOver",value:function(){this.game.state.clearCurrentState(),(!this.lvlScore||this.lvlScore<this.game.progress)&&localStorage.setItem(this.game.uniqueKey+"L"+this.game.lvlId,this.game.progress),this.game.state.start("GameOver",!0,!1)}},{key:"mainMenu",value:function(){this.game.state.clearCurrentState(),(!this.lvlScore||this.lvlScore<this.game.progress)&&localStorage.setItem(this.game.uniqueKey+"L"+this.game.lvlId,this.game.progress),this.game.state.start("Menu",!0,!1)}},{key:"gameEnd",value:function(){this.game.state.clearCurrentState(),(!this.lvlScore||this.lvlScore<this.game.progress)&&localStorage.setItem(this.game.uniqueKey+"L"+this.game.lvlId,this.game.progress),this.game.lvlId++,(!this.lvlProgress||this.lvlProgress<this.game.lvlId)&&localStorage.setItem(this.game.uniqueKey,this.game.lvlId),this.game.lvlId>this.game.lastLvlId?this.game.state.start("Credits",!0,!1):this.game.state.start("Test")}},{key:"playSounds",value:function(){this.game.sounds.backgroundRain.play(),this.game.sounds.backgroundWind.play(),this.game.soundsDecoded=!0}},{key:"clearObjectArray",value:function(){for(var t=0;t<this.game.lvlObjects.length;t++)this.game.lvlObjects[t].isOut()&&(this.game.lvlObjects[t].destroy(),delete this,this.game.lvlObjects.splice(t,1))}}]),e}(Phaser.State);i["default"]=C,e.exports=i["default"]},{"includes/Helpers":1,"includes/LevelData":2,"objects/DayCycle":6,"objects/Dummy":7,"objects/MenuButton":11,"objects/Player":15,"objects/Weather":22}]},{},[3]);